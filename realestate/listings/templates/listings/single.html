{% extends 'listings/base.html'%}
{%load static%}

{%block content%}
<!-- templates/listings/index.html -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Real Estate Listings</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body >
  

<div style="margin: 20px; text-align: center; padding-left: 30px; padding-right: 30px; padding-top: 20px;margin-bottom: 30px;">
  <h2>
    Areas Of High Demand
  </h2>
  <p>pay to book a day to see your prefeared property</p>
</div>

<section style="margin: 20px; padding-top: 30px ;background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3)), url('{{ listing.photo_main.url}}'); width: 98%; margin: 0 auto;background-position:center;background-size: cover; "  >


  <!-- listings/templates/listings/single.html -->
  <div class="col-md-4 mb-4" style="margin: 0 auto; "  >
    <a href="{%url 'paystack'%}" style="text-decoration: none; color: black;">

        <div class="card" style="box-shadow: 2px 5px 5px 2px; background-color: rgba(128, 128, 128, 0.888); ;" >
          <div class="card-header">
            <h3 style="text-align: center; color: white;">
              {{listing.title}}
            </h3>
        </div>
            <div id="carouselExample" class="carousel slide" data-ride="carousel" style="background-color: transparent" >
                <div class="carousel-inner" >
                    <div class="carousel-item active">
                        <img src="{{ listing.photo_main.url}}" class="d-block w-100" alt="Main Photo" style="max-width: 100%; max-height: 200px;">
                    </div>
                    <div class="carousel-item">
                        <img src="{{ listing.photo_birthroom.url}}" class="d-block w-100" alt="Additional Photo"  style="max-width: 100%; max-height: 200px;">
                    </div>
                    <div class="carousel-item">
                        <img src="{{listing.photo_bedroom.url}}" class="d-block w-100" alt="Additional Photo"style="max-width: 100%; max-height: 200px;">
                    </div>
                    <div class="carousel-item">
                      <img src="{{listing.photo_kitchen.url}}" class="d-block w-100" alt="Additional Photo" style="max-width: 100%; max-height: 200px;">
                  </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExample" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExample" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <div class="card-header text-center" style="background-color: rgba(128, 128, 128, 0.568);">
                <a href="#" style="font-size: 20px; text-decoration: none; color: rgb(255, 254, 254); font-weight: bold;" >contact us:</a>
                <a href="#" style="font-size: 20px;text-decoration: none; color: rgb(255, 255, 255); font-weight: bold;" >+234 813-279-0078 </a>
             

            </div>
            <div class="card-body">
                <!-- Other details here -->
                <p style="padding: 20px; font-size: 20px; margin: 10px; background-color: rgba(61, 60, 60, 0.754); color: rgb(255, 255, 255); box-shadow: 1px 1px 1px 1px;" >{{listing.description}}</p>
                <table style="margin: 10px;">
                    <!-- Other details table rows here -->
                </table>
            </div>
            <div class="card-footer">
                <a href="{%url 'paystack'%}"><button type="button" class="btn btn-success" style="float: inline-end;">Book now</button></a>
                
            </div>
        </div>
    </a>
</div>





<!-- listings/templates/listings/single.html -->

  <!-- <div>
 






    
    <div class="container mt-5" style=" box-shadow: 1px 2px 3px; height: auto; width: 80%;" >
      <h3 style="text-align: center;">
        Make Payment With Paystack
      </h3>
        <form id="paymentForm" style="width: 50%; margin: 0 auto;">
            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" class="form-control" id="email-address" required>
            </div>
            <div class="form-group">
                <label for="amount">Amount</label>
                <input type="tel" class="form-control" id="amount" required>
            </div>
            <div class="form-group">
                <label for="first-name">First Name</label>
                <input type="text" class="form-control" id="first-name">
            </div>
            <div class="form-group">
                <label for="last-name">Last Name</label>
                <input type="text" class="form-control" id="last-name">
            </div>
            <div class="form-submit">
                <button type="submit" style=" width: 20%; " class="btn btn-primary" onclick="payWithPaystack()">Pay</button>
            </div>
        </form>
    </div>
    
    <!-- Add Bootstrap JS and jQuery
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
    <!-- Add Paystack Inline script -->
    <!-- <script src="https://js.paystack.co/v1/inline.js"></script>
    
    <script>
        const paymentForm = document.getElementById('paymentForm');
        paymentForm.addEventListener("submit", payWithPaystack, false);
    
        function payWithPaystack(e) {
            e.preventDefault();
    
            let handler = PaystackPop.setup({
                key: 'pk_test_490024c5b02a0f3c206aadca4115fd9baf6e031a', // Replace with your actual Paystack public key
                email: document.getElementById("email-address").value,
                amount: document.getElementById("amount").value * 100,
                onClose: function () {
                    alert('Payment window closed.');
                },
                callback: function (response) {
                    let message = 'Payment complete! Reference: ' + response.reference;
                    alert(message);
                }
            });
    
            handler.openIframe();
        }
    </script> --> 
 

<!-- Add Bootstrap JS and jQuery -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    
    </body>
    </html>
    


{%endblock%}

</html>